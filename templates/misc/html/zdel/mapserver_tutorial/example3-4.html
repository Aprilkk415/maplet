{% extends "../../../../theme/content.html" %}

{% block content %}

<h3 align="center">Example 3.4: The Query Map</h3>

<!-- START OF MAPSERVER FORM -->
<form name="mapserv" method="GET" action="/cgi-bin/mapserv">

    <table width="680" border="0" align="center">
        <tr>
            <td>
                <table width="600" border="1" align="center">
                    <tr>
                        <td colspan="4">Select Layers:<br>
                            <!-- SPECIFY VECTOR LAYERS -->
                            <input type="checkbox" name="layer" value="states">
                            State Boundaries&nbsp;
                            <input type="checkbox" name="layer" value="counties">
                            County Boundaries&nbsp;
                            <input type="checkbox" name="layer" value="cities">
                            Cities&nbsp;
                            <input type="checkbox" name="layer" value="fedlands">
                            Federal/Indian Lands&nbsp;
                            <input type="checkbox" name="layer" value="hydro">
                            Water Features&nbsp;
                            <input type="checkbox" name="layer" value="roads">
                            Roads<br>

                            <!-- SPECIFY RASTER LAYERS -->
                            Select Background:<br>
                            <select name="layer">
                                <option value=" ">No Background</option>
                                <option value="landsat">Landsat 7 ETM+</option>
                                <option value="modis">MODIS Surface Reflectance</option>
                                <option value="relief">Shaded Relief</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>

                            <!-- SPECIFY MAP MODE -->
                            <div align="center">Map Mode:<br>
                                <select name="mode">
                                    <option value="browse">Browse</option>
                                    <option value="query">Query Single Layer</option>
                                    <option value="nquery">Query Multiple Layers</option>
                                </select>
                            </div>
                        </td>
                        <td>
                            <!-- FORM SUBMIT BUTTON -->
                            <div align="center">
                                <input type="submit" name="submit" value="Refresh">
                            </div>
                        </td>
                        <td>
                            <!-- ZOOM/PAN CONTROLS -->
                            <div align="center">Map Control: <br>
                                <select name="zoom">
                                    <option value="4">Zoom In 4x</option>
                                    <option value="3">Zoom In 3x</option>
                                    <option value="2">Zoom In 2x</option>
                                    <option value="0">Recenter</option>
                                    <option value="-2">Zoom Out 2x</option>
                                    <option value="-3">Zoom Out 3x</option>
                                    <option value="-4">Zoom Out 4x</option>
                                </select>
                            </div>
                        </td>
                        <!-- REFERENCE AND LEGEND COLUMN -->
                        <td rowspan="2" valign="top">
                            <p>Reference:<br>
                                <img name="ref" src="http://159.226.123.26/ms_tmp/EX3_ref142251644712117.png"></p>

                            <p>Legend:<br>
                                <img src="http://159.226.123.26/ms_tmp/EX3_leg142251644712117.png"></p>
                        </td>
                    </tr>
                    <tr>
                        <!-- DISPLAY THE MAPSERVER-CREATED MAP IMAGE -->
                        <td colspan="3" align="center" valign="top">
                            <input type="image" name="img" src="http://159.226.123.26/ms_tmp/EX3_142251644712117.png"
                                   width="400"
                                   height="300" border="0" alt="This is the map">
                        </td>
                    </tr>
                </table>
                <hr>
                <p><!--To see this example in action,  open example3.map and replace the WEB
        FOOTER line like so:-->要查看此示例，打开图像例三更换Web的页脚行。像这样:
                           
        <pre>
        WEB
          ...
          #FOOTER    '../templates/footer.html'
          FOOTER    '../templates/footer_querymap.html'
          ...
        END
        </pre>

                <!--Also, uncomment the entire QUERYMAP object:-->并且，取消整个查询地图对象：
        <pre>
        #
        # A querymap object is used to highlight, or make prominent, the
        # features on a map selected via a query or nquery request.   This
        # means you can display your query results and a map showing the
        # features selected for the query.
        # 查询地图图像对象是用来突出或做出突出 功能，在地图上通过查询或多次查询请求选择。这意味着你可以显示你的查询结果和一张地图，显示选择查询功能。
        QUERYMAP
          SIZE 200 150
          STATUS ON
          STYLE HILITE  # SELECTED | NORMAL
          COLOR 255 0 0
        END
        </pre>
                <p align="center">
                    <a href="example3.map">View the MapFile</a> |
                    <a href="example3-4_template.html">View the HTML Template</a>
                </p>
            </td>
        </tr>
    </table>
    <!-- HIDDEN MAPSERVER CGI VARIABLES -->
    <input type="hidden" name="imgxy" value="200.0 150.0">
    <input type="hidden" name="imgext" value="165660.954849 -371954.000000 1506409.045151 632767.000000">
    <input type="hidden" name="map" value="/mstu/htdocs/example3.map">
    <input type="hidden" name="savequery" value="true">
    <input type="hidden" name="root" value="/mstuto">
    <input type="hidden" name="program" value="/cgi-bin/mapserv">
    <input type="hidden" name="map_web"
           value="template example3-4.html header ../templates/example3_header.html footer ../templates/example3_footer_querymap.html">
    <input type="hidden" name="savequery" value="true">

</form>
<hr>
<p class="Small" align="center">
    <a href="example3-3.html">
        Back to Example 3.3</a>

    |
    <a href="section3.html">Back to the Section 3</a>
    |
    <a href="sections.html">Back to the Sections Page</a>
    |
    <a href="section4.html"> Proceed to Section 4</a>
</p>
{% end %}
