

<!DOCTYPE html>  
<html lang='en'>  
<head>  
    <meta charset='utf-8' />  
   <title>My OpenLayers Map</title>     
    <script type='text/javascript' src='OpenLayers.js'></script>  
    <script type='text/javascript' src='http://maps.google.com/maps/api/js?sensor=false'></script>  
    <script type='text/javascript'>  
  
        var map;  
  
       function init() {  
           map = new OpenLayers.Map('map_element',{  
                  maxExtent: new OpenLayers.Bounds(//设置地图域  
                  -128 * 156543.0339,  
                  -128 * 156543.0339,  
                  128 * 156543.0339,  
                  128 * 156543.0339),  
                  maxResolution: 156543.0339,//最大分辨率  
                  units: 'm',//度量单位  
                  projection: new OpenLayers.Projection('EPSG:900913'),//投影规则  
                  displayProjection: new OpenLayers.Projection("EPSG:4326"),//显示的投影规则  
                });  
  
           var google_streets = new OpenLayers.Layer.Google(  
                  "Google Streets",  
                  {numZoomLevels: 20}  
                );//google map默认sphericalMercator=true  
  
           var wms_layer = new OpenLayers.Layer.WMS(  
                  'OpenLayers WMS',  
                  'http://vmap0.tiles.osgeo.org/wms/vmap0',  
                  {layers: 'basic,clabel,ctylabel,statelabel', transparent: true},  
                  {isBaseLayer: false,//确保用WMS做overlay layer  
                  opacity: .7}  
                );  
            var vector_layer = new OpenLayers.Layer.Vector(  
                 'Editable Vectors');//创建一个矢量图层  
  
            //添加一个矢量编辑工具条，该工具条可以在矢量图层上添加点或多边形  
            map.addControl(new OpenLayers.Control.EditingToolbar(vector_layer));  
  
           map.addLayers([google_streets, wms_layer, vector_layer]);  
          
           map.addControl(new OpenLayers.Control.LayerSwitcher());  
  
           if(!map.getCenter()){  
               map.zoomToMaxExtent();  
           }  
       }  
  
    </script>  
</head>  
  
<body onload='init();'>  
    <div id='map_element' style='width: 500px; height: 500px;'>  
    </div>  
</body>  
</html>  
