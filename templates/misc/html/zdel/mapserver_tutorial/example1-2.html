{% extends "../../../../theme/content.html" %}

{% block headinfo %}
<title>MapServer 6.x 在线教程教程：使用两个图层的静态地图</title>
{% end %}

{% block content %}

<div class="content">


    <div class="single">

          <h1>教程 1.2: 使用两个图层的静态地图</h1>

        <div class="entry">
          <div align="center">
            <img border="1" src="http://159.226.123.26/cgi-bin/mapserv?map=/mstu/htdocs/example1-2.map&layer=states_poly&layer=states_line&mode=map" />
          </div>
          <!--As in the first example, this image was generated by
            linking the source of the &lt;img&gt; tag to this URL:
            <a href="http://terrasip.gis.umn.edu/cgi-bin/mapserv.exe?map=/ms4w/apps/tutorial/htdocs/example1-2.map&mode=map">
              http://terrasip.gis.umn.edu/cgi-bin/mapserv.exe?map=/ms4w/apps/tutorial/htdocs/example1-2.map
              &amp;layer=states_poly&amp;layer=states_line&amp;mode=map
            </a>. This is how most of the examples in this section work.-->
<div>            在第一个例子中，该图像生成到这个URL连接的源<img>标签：</div>

             <div><a href="http://terrasip.gis.umn.edu/cgi-bin/mapserv.exe?map=/ms4w/apps/tutorial/htdocs/example1-2.map&mode=map">
              http://terrasip.gis.umn.edu/cgi-bin/mapserv.exe?map=/ms4w/apps/tutorial/htdocs/example1-2.map
              &amp;layer=states_poly&amp;layer=states_line&amp;mode=map
            </a></div>
            
<div>这是在本节工作的大多数的例子。</div>

          <p align="left"><!--Anyway, you'll notice that the map here is the same as 
            the first example. Yes, but the mapfile is different. Have a look.-->
            总之，你会发现，第一个例子中这里的地图是一样的。是的，但MapFile是不同的。看一看。
          </p>
          <hr>
          <p align="left"><!--This is what the mapfile looks like (Example1-2.map):-->MapFile如下所示（例2.map）：
            <br>
            <pre  class="brush:py">
# The annotated map file (sort of)
# Created by Pericles S. Nacionales for the MapServer tutorial
# 20050408
# MapServer map file uses the pound sign (#) to denote the start of a line
# comment--each line that needs to be commented has to be prepended with a "#".
#
# Map files begin with MAP keyword to signify the start of the map object.
# Well, the entire map file is THE map object.  Enclosed between MAP and END
# at the very bottom of this map file, are keyword/value pairs and other
# objects.
# 注释的地图文件（排序）
# 由伯里克利S. NACIONALES创建的MapServer的教程
# 20050408
# MapServer的地图文件使用井号（#）开头的行表示
# 注释 - 每一行，需要加以注释的前面加上一个“#”。
#
# 地图文件与MAP关键字开始，意味着开始地图对象。
# 好了，整个地图文件是地图对象。 MAP和END之间封闭
# 在这个地图文件的最底部，关键字/值对和其他对象。
MAP
  IMAGETYPE      PNG
  EXTENT         -97.238976 41.619778 -82.122902 49.385620
  SIZE           400 300
  SHAPEPATH      "../data"
  IMAGECOLOR     255 255 255

# Layer objects are defined beneath the map object.  You need at least one
# layer defined in your map file before you can display a map...  You can
# define as many layers as you'd like although a limit is typically hard-coded
# in map.h in the MapServer source.  The default limit is set at 100.  You'd
# have to have a very specialized application to need more than 100 layers in
# your application.
# 层对象定义地图下方的对象。你至少需要一个
# 层中定义的地图文件，然后才可以显示在地图
# 您可以
# 定义为多层次，只要你愿意，虽然限制通常是硬编码
# 在MapServer的map.h。默认的限额设定为100。你最好
# 必须有一个非常特殊的应用需要超过100层
# 在您的应用中。

# Start of LAYER DEFINITIONS ---------------------------------------------
# 层定义开始---------------------------------------------
  LAYER # States polygon layer begins here
  # 多边形层从这里开始
    NAME         states_poly
    DATA         states_ugl
    STATUS       OFF
    TYPE         POLYGON

    # The class object is defined within the layer object.  You can define as
    # many classes as you need (well, there are limits as with layers, but it's
    # senseless to define more than ten on a "normal" layer.  There are
    # situations, however, where you might have to do it.)
# 类对象的定义层内的对象。您可以定义
# 你需要（很好，有层的限制，但这是
# 无意义的去定义一个超过10个的“正常”层。有
# 这样的情况，然而，你可能不得不这样做。）
    CLASS
      NAME       "States"

      # There are styles in a class, just like there are classes in a layer,
      # just like there are layers in a map.  You can define multiple styles in
      # a class just as you can define multiple classes in a layer and multiple
      # layers in a map.
# 类的风格，就像有一层中的类，
# 就像在一个地图中有多个层。您可以定义多个样式
# 在一个类中，就像你在一层，可以定义多个类多个
# 层的地图。
      STYLE
        COLOR    232 232 232
      END
    END
  END # States polygon layer ends here
  #多边形层到此为止

  LAYER # States line layer begins here
  #线层从这里开始
    NAME         states_line
    DATA         states_ugl
    STATUS       OFF
    TYPE         LINE

    CLASS
      NAME       "State Boundary"
      STYLE
        COLOR    32 32 32
      END
    END
  END # States line layer ends here
  #线层从这里结束
  # End of LAYER DEFINITIONS -------------------------------
 #结束层定义-------------------------------


END # All map files must come to an end just as all other things must come to...
#所有的地图文件必须结束，就像所有其他的事情一定要来...

    </pre>
          </p>
          <hr align="center" width="300">
          <p><!--The mapfile structure, by objects, looks like this:映射文件的结构，通过对象，看起来像这样：--></p>
          <pre>
                   MAP
              LAYER-|-LAYER
            CLASS-|   |-CLASS
          STYLE-|       |-STYLE</pre>
          <hr align="center" width="300">
          <p><!--Here we split the original layer into two layers. The first layer 
            is still a polygon layer but the STYLE no longer has OUTLINECOLOR. 
            The second layer is similar to the first except that the TYPE is 
            changed to LINE and the COLOR in the STYLE is changed to the same 
            color as the OUTLINECOLOR in the first example. This produces the 
            same image as the first one... So, why do it this way? If we 
            continue to add layers on top of the states layer, the outline will 
            most likely be covered up by these other layers.  To still see the 
            state boundaries after we add these other layers, we have to 
            separate the states boundary line layer from the states polygon 
            layer and put it on top of the other other layers.  There is order 
            in how we define/add layers and you'll see it clearly as we proceed 
            in this section.-->
            在这里，我们将原有的层分为两层。在第一层仍然是一个多边形层，但风格不再有OUTLINECOLOR的。第二层是不同的TYPE是类似于第一个，线和颜色的风格变为与在第一个例子中的OUTLINECOLOR的颜色相同。这将产生作为第一个相同的图像...那么，为什么这样做？如果我们继续添加态层的顶部上的层，轮廓最有可能被掩盖了这些层。为了见国界线后，我们添加其他层，我们必须分离国界线层从状态多边形层，并把它放在其他的其他层的顶部。我们如何定义/添加图层是有顺序的，在我们将要继续的下一节，你会看得很清楚。
          </p>
          <hr>
          <p class="Small" align="center">
            <a href="example1-1.html"> 返回教程 1.1 </a> |
            <a href="section1.html"> 返回第1部分 </a> |
            <a href="sections.html"> 返回教程目录 </a> |
            <a href="example1-3.html"> 继续教程 1.3 </a>
          </p>


</div>
        </div>
    </div>
{% end %}
