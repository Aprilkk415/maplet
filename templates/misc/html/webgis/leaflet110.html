{% extends "../../../theme/static.html" %}


{% block headinfo %}


<title>开源WebGIS Leaflet示例：显示地图</title>


<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"/>
<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>


<script type="text/javascript">


    //    function onMapClick(e) {
    //    alert("You clicked the map at " + e.latlng);
    //}


    $(document).ready(function () {
        var popup = L.popup();


        function onMapClick(e) {
            popup
                    .setLatLng(e.latlng)
                    .setContent("You clicked the map at " + e.latlng.toString())
                    .openOn(map);
        }


        // create a map in the "map" div, set the view to a given place and zoom
        var map = L.map('map').setView([43.884, 125.318], 11);

        map.on('click', onMapClick);
// add an OpenStreetMap tile layer
        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

// add a marker in the given location, attach some popup content to it and open the popup
        L.marker([43.884, 125.318]).addTo(map)
                .bindPopup('<span style="color:red;">中华人民共和国 <br> 吉林省长春市</span>')
                .openPopup();

        var circle = L.circle([43.884, 125.318], 500, {
            color: 'red',
            fillColor: '#f03',
            fillOpacity: 0.5
        }).addTo(map);

        circle.bindPopup("I am a circle.");

        var polygon = L.polygon([
            [43.884, 125.318],
            [43.884, 125.328],
            [43.894, 125.328]
        ]).addTo(map);

        polygon.bindPopup("I am a polygon.");


    })
</script>
{% end %}
{% block content_static %}


<h1>开源WebGIS Leaflet示例：显示地图</h1>

<div class="entry">

    <div id="map" class="map" tabindex="0" style="width:95%;height:400px;border:1px darkred solid;"></div>

    <div id="info">查询信息显示</div>
</div>


<p>返回目录 <a href="http://www.osgeo.cn/page/leaflet_tutorial.html">开源JavaScript WebGIS库Leaflet教程</a>。</p>

{% end %}

